{
  "RecipeFormatVersion": "2020-01-25",
  "ComponentName": "com.edge.llm.ChatBotUI",
  "ComponentVersion": "1.0.8",
  "ComponentType": "aws.greengrass.generic",
  "ComponentDescription": "CodeLlama-7B ChatBot with InfluxDB 1.8 InfluxQL support for structured data analysis",
  "ComponentPublisher": "EdgeLLM",
  "ComponentConfiguration": {
    "DefaultConfiguration": {
      "webPort": 8080,
      "chatHistoryLimit": 50,
      "enableDebugMode": true,
      "influxdbUrl": "http://localhost:8086",
      "influxdbToken": "edge-llm-token-12345",
      "influxdbOrg": "edge-llm",
      "influxdbBucket": "sensors"
    }
  },
  "Manifests": [
    {
      "Platform": {
        "os": "linux"
      },
      "Lifecycle": {
        "install": {
          "RequiresPrivilege": false,
          "script": "pip3 install --user flask>=3.0.0 requests>=2.31.0 && pip3 install --user --index-url https://download.pytorch.org/whl/cu121 torch>=2.0.0 transformers>=4.35.0 accelerate>=0.24.0"
        },
        "run": {
          "RequiresPrivilege": false,
          "script": "cd {artifacts:path} && python3 simple_chatbot.py"
        }
      },
      "Artifacts": [
        {
          "URI": "s3://edge-llm-greengrass-artifacts-533267070201/com.edge.llm.ChatBotUI/1.0.8/simple_chatbot.py"
        }
      ]
    }
  ]
}